dist: xenial
sudo: required
services:
  - docker
before_script:
  - echo 'before_script'
  - git clone https://github.com/kamatama41/tfenv.git ~/.tfenv
  - sudo ln -s ~/.tfenv/bin/* /usr/local/bin
  - tfenv install latest:^0.11
  - terraform -v
script:
  - echo 'script'
  - echo -e 'provider "aws" {\n  region = "${var.aws_region}"\n}' > test_provider.tf
  - cat test_provider.tf
  - terraform init --input=false
  - terraform fmt -check=true -list=true
  - terraform validate
  # We provide Docker images for each version on DockerHub. With docker, you can run TFLint without installing it locally.
  # https://github.com/wata727/tflint
  - docker run --rm -v $(pwd):/app/ --workdir=/app/ -t wata727/tflint --error-with-issues
  #- cd examples/some_tests
  #- terraform init
  #- terraform fmt -check=true
  #- terraform validate
  #- cd -
  - terraform -v
notifications:
  email: false
